<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>TP5 - Exercices</title>
    </head>
    <body>
        <h1>TP 5 - EXERCICES</h1>
        <div id="myDivExo1">
            Exercice 1 : <br>
        </div>
        <div id="myDivExo2">
            Exercice 2 : <br>
        </div>
        <div id="myDivExo3">
            Exercice 3 : <br>
        </div>
        <div id="myDivExo4">
            Exercice 4 : <br>
        </div>
        <div id="myDivExo5">
            Exercice 5 : <br>
        </div>
    </body>
    <script>
        //Renvoie les 3 strings les plus long précédé par un #
        getHashTags = (str) => {
            return str.split(' ').sort((a,b) => b.length - a.length).filter((word,index) => index<3).map((el)=>{return '#'+el});
        }
        //Renvoie un nouveau tableau sans les doublons du tableau passé en parametre
        removeDuplicate = (tab) => {
            return tab.filter((elemen, pos) => {return tab.indexOf(elemen) == pos});
        }

        removeDuplicate2 = (tab) => {
            return [...new Set(tab)]
        }
        //renvoi un nouveau tableau avec les valeurs qui sont présents dans les 2 tableaux passé en parametre
        intersection = (first, second) => {
            return first.filter( tab => second.includes(tab)).sort();
        }
        //renvoie un nouveau tableau avec les valeurs qui sont présent que dans 1 seul des 2 tableaux
        arrayDiff = (first, second) => {
            return removeDuplicate(first.filter( tab => !second.includes(tab))).concat(removeDuplicate(second.filter( tab2 => !first.includes(tab2)))).sort();
        }

        arrayDiffVersion2 = (first, second) => {
            return removeDuplicate2(first.concat(second).filter(tab => !intersection(first,second).includes(tab))).sort();
        }
        //Renvoie les resultats de la multiplication des chiffres passé en parametres
        //Si dans les parametre il y une string ou un objet de type undefined ou null la multiplication se fera avec le chiffre 1
        //Le seul cas d'erreur est si un parametre vaut NaN alors le résultat sera NaN
        combinations = (...numbers) => {
            return numbers.filter(nb => typeof (nb) == 'number').reduce((a,b) => a*b);
        }

        window.addEventListener('DOMContentLoaded', event => {
            const textDiv = document.querySelector('#myDivExo1'),
                textDiv2 = document.querySelector('#myDivExo2'),
                textDiv3 = document.querySelector('#myDivExo3'),
                textDiv4 = document.querySelector('#myDivExo4'),
                textDiv5 = document.querySelector('#myDivExo5');

            textDiv.append(getHashTags('How the Avocado Became the fruit of the global Trade'));
            textDiv.append(document.createElement('br'));
            textDiv.append(getHashTags('Why You Will Probably Pay More For Your Christmas Tree This Year'));
            textDiv.append(document.createElement('br'));
            textDiv.append(getHashTags('Hey Parents, Surprise, Fruit Juice Is Not Fruit'));
            textDiv.append(document.createElement('br'));
            textDiv.append(getHashTags('Visualizing Science'));
            textDiv.append(document.createElement('br'));
            const tab = [0,2,4,6,8,8];
            textDiv2.append(removeDuplicate2(tab));
            textDiv2.append(document.createElement('br'));
            const second = [1,2,3,4,5,6];
            textDiv3.append(intersection(tab,second));
            textDiv3.append(document.createElement('br'));
            textDiv4.append(arrayDiff(tab,second));
            textDiv4.append(document.createElement('br'));
            textDiv4.append(arrayDiffVersion2(tab,second));
            textDiv4.append(document.createElement('br'));
            textDiv5.append(combinations(2,3));
            textDiv5.append(document.createElement('br'));
            textDiv5.append(combinations(3,7,4));
            textDiv5.append(document.createElement('br'));
            textDiv5.append(combinations(3,7,null,undefined,'de','2',4));
            textDiv5.append(document.createElement('br'));
            textDiv5.append(combinations(2,3,4,5));
        });
    </script>
</html>